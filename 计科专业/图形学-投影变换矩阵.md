
# 投影变换矩阵
理清从对象空间到屏幕空间的整个变换流程，包括中间变换公式的理解。

## 术语表
- 对象空间，object space
- 世界空间，world space
- 相机空间，camera space，eye space
- 裁剪空间，标准视见体，clip space，canonical view volume，normalized device coordinates
- 屏幕空间，screen space，pixel coordinates
- 正交投影，orthographic projection
- 透视投影，perspective projection


## 空间变换关系
![Viewing transformations](images/view_trans.JPG)

*说明* 投影变换将相机空间里的点映射到![[-1, 1]^3][0]的裁剪空间，所有映射后不在这个区间
里的点都会被裁剪掉。透视投影先将自己的视见体(view volume)变换成正交投影的视见体，然后再
统一使用正交投影的变换矩阵将视见体里的点变换到裁剪空间。

## 细节
### 标准视见体到屏幕的变化
就是将![[-1, 1]^2][1]映射到[0, nx]![\times][2][0, ny]，nx、ny分别是水平和垂直方向上的像素数量。
容易得到变换矩阵如下：

![M_{vp} = \left[ {\begin{array}{cccc}\frac{nx}{2}&0&0&\frac{nx}{2} \\0&\frac{ny}{2}&0&\frac{ny}{2}\\0&0&1&0\\0&0&0&1\\ \end{array} } \right]][3]

----
参考：Fundamentals of Computer Graphics, 3rd edition

[0]: https://chart.googleapis.com/chart?cht=tx&chl=%5B-1%2C%201%5D%5E3
[1]: https://chart.googleapis.com/chart?cht=tx&chl=%5B-1%2C%201%5D%5E2
[2]: https://chart.googleapis.com/chart?cht=tx&chl=%5Ctimes
[3]: https://chart.googleapis.com/chart?cht=tx&chl=M_%7Bvp%7D%20%3D%20%5Cleft%5B%20%7B%5Cbegin%7Barray%7D%7Bcccc%7D%5Cfrac%7Bnx%7D%7B2%7D%260%260%26%5Cfrac%7Bnx%7D%7B2%7D%20%5C%5C0%26%5Cfrac%7Bny%7D%7B2%7D%260%26%5Cfrac%7Bny%7D%7B2%7D%5C%5C0%260%261%260%5C%5C0%260%260%261%5C%5C%20%5Cend%7Barray%7D%20%7D%20%5Cright%5D